'use strict';

var load = function load() {
  // sending data to iFrame
  var sendMessage = function sendMessage() {
    var inputMessage = document.getElementById('message-text').value;
    var data = {
      message: inputMessage,
      frameName: window.frames.name
    };
    window.top.postMessage(data, document.location.origin);
  };

  var sendMessageBtn = document.getElementById('send-message');
  sendMessageBtn.addEventListener('click', function (event) {
    event.preventDefault();
    sendMessage();
  });

  // send on enter click
  document.getElementById('message-text').addEventListener('keyup', function (event) {
    event.preventDefault();
    if (event.keyCode == 13) {
      document.getElementById('send-message').click();
    }
  });
};
window.onload = load;